---
title: 'ADP Integration'
description: 'Configure ADP for employee data and payroll synchronization'
---

## Overview

TGA integrates with [ADP](https://www.adp.com/) for comprehensive HR and payroll data synchronization. ADP is one of the largest HR and payroll service providers, serving organizations of all sizes.

## Capabilities

| Feature | Support |
|---------|---------|
| **Employee Sync** | Import and update employee records |
| **Payroll Data** | Access payroll run information |
| **Custom Fields** | Map ADP custom fields |
| **Certificate Auth** | Secure mTLS authentication |

## Prerequisites

Before configuring ADP:

1. ADP Marketplace developer account
2. Client credentials (Client ID + Client Secret)
3. SSL certificate and private key
4. Admin access to your TGA organization

## Configuration

### Step 1: Obtain ADP Credentials

<Steps>
<Step title="Access ADP Marketplace">
  Navigate to [ADP Marketplace](https://developers.adp.com/) and log in to your developer account.
</Step>

<Step title="Create Application">
  Register a new application to obtain:
  - **Client ID**
  - **Client Secret**
</Step>

<Step title="Generate Certificates">
  Generate or obtain SSL certificates:
  - **PEM Certificate** - Public certificate
  - **Private Key** - Private key for signing
</Step>

<Step title="Configure Permissions">
  Request necessary API scopes for:
  - Worker demographics
  - Payroll data access
  - Custom field access
</Step>
</Steps>

### Step 2: Configure in TGA

<Steps>
<Step title="Navigate to Integrations">
  Go to **Organization Settings** > **Integrations** > **HRIS** > **ADP**
</Step>

<Step title="Enter Credentials">
  Provide the following:

  | Field | Description |
  |-------|-------------|
  | **Client ID** | Your ADP application client ID |
  | **Client Secret** | Your ADP application client secret |
  | **PEM Key** | SSL certificate in PEM format |
  | **Private Key** | Private key for certificate |
</Step>

<Step title="Test Connection">
  Click **Test Connection** to verify the integration.
</Step>

<Step title="Configure Sync Settings">
  Set up employee sync preferences:
  - Sync frequency
  - Field mappings
  - Filter rules
</Step>
</Steps>

## Authentication Flow

ADP uses OAuth 2.0 Client Credentials with mutual TLS (mTLS):

```mermaid
sequenceDiagram
    participant TGA
    participant ADP Auth
    participant ADP API

    TGA->>ADP Auth: Request token (client credentials + cert)
    Note over ADP Auth: Validate certificate
    ADP Auth-->>TGA: Access token
    TGA->>ADP API: API request (with token)
    ADP API-->>TGA: Response data
```

## Certificate Format

### PEM Certificate

```
-----BEGIN CERTIFICATE-----
MIIDXTCCAkWgAwIBAgIJAJC1HiIAZAiUMA0Gcur3telesvb...
...certificate content...
-----END CERTIFICATE-----
```

### Private Key

```
-----BEGIN PRIVATE KEY-----
MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIB...
...key content...
-----END PRIVATE KEY-----
```

<Warning>
Keep your private key secure. Never share it or commit it to version control.
</Warning>

## Data Mapping

### Employee Fields

| ADP Field | TGA Field | Description |
|-----------|-----------|-------------|
| `workerID` | `externalEmployeeID` | Unique worker identifier |
| `person.legalName` | `fullName` | Employee legal name |
| `person.communication.emails` | `email` | Work email address |
| `workerStatus.statusCode` | `status` | Active/Inactive/Terminated |
| `workAssignment.hireDate` | `hireDate` | Employment start date |
| `workAssignment.terminationDate` | `terminationDate` | Employment end date |

### Custom Field Mapping

Map ADP custom fields to TGA fields:

```typescript
{
    adpField: "customFieldGroup.customField.nameCode.codeValue",
    tgaField: "customAttribute1",
    transform: "uppercase"  // Optional transformation
}
```

## Sync Behavior

### Initial Sync

On first connection:
1. Fetch all active workers
2. Create TGA employee records
3. Map external IDs for future updates
4. Record sync timestamp

### Incremental Sync

Subsequent syncs:
1. Fetch workers modified since last sync
2. Update existing employee records
3. Create new employees
4. Mark terminated employees
5. Update sync timestamp

## Troubleshooting

<AccordionGroup>
<Accordion title="'Certificate validation failed'">
**Possible Causes:**
- Certificate format incorrect
- Certificate expired
- Private key doesn't match certificate
- Certificate not registered with ADP

**Solutions:**
1. Verify PEM format is correct (including headers)
2. Check certificate expiration date
3. Regenerate certificate/key pair if needed
4. Ensure certificate is registered in ADP Marketplace
</Accordion>

<Accordion title="'Invalid client credentials'">
**Cause:** Client ID or Client Secret is incorrect.

**Solutions:**
1. Verify credentials in ADP Marketplace
2. Check for extra spaces or characters
3. Regenerate credentials if needed
4. Ensure application is approved
</Accordion>

<Accordion title="'Insufficient permissions'">
**Cause:** API scopes not configured for required data access.

**Solution:**
1. Review application permissions in ADP Marketplace
2. Request additional scopes if needed
3. Wait for scope approval (may require ADP support)
</Accordion>

<Accordion title="Workers not appearing in sync">
**Possible Causes:**
- Workers don't meet filter criteria
- Workers in different organizational unit
- API access limited to certain worker types

**Solutions:**
1. Review sync filter configuration
2. Check organizational unit access
3. Verify API permissions include all worker types
</Accordion>
</AccordionGroup>

## Security Best Practices

1. **Certificate rotation** - Rotate certificates before expiration
2. **Credential isolation** - Use separate credentials for production/test
3. **Minimum scopes** - Request only necessary API permissions
4. **Audit access** - Review API usage in ADP logs
5. **Secure storage** - Never store credentials in plain text

## API Reference

### Required Credentials

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `clientId` | string | Yes | OAuth client ID |
| `clientSecret` | string | Yes | OAuth client secret |
| `pemKey` | longText | Yes | SSL certificate (PEM format) |
| `privateKey` | longText | Yes | Private key (PEM format) |

### Documentation Links

- [ADP API Guide](https://developers.adp.com/articles/guide/auth-client-credentials)
- [ADP Marketplace](https://developers.adp.com/)

## Support

- **ADP Support**: Contact through ADP Marketplace
- **ADP Developer Documentation**: [developers.adp.com](https://developers.adp.com/)
- **TGA Support**: [tga-support@toku.com](mailto:tga-support@toku.com)
