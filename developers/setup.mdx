---
title: 'Development Setup'
description: 'Setting up a local TGA development environment'
---

## Overview

This guide covers setting up a local development environment for TGA.

## Prerequisites

| Requirement | Version |
|-------------|---------|
| Node.js | 18.x or higher |
| pnpm | 8.x or higher |
| PostgreSQL | 14.x or higher |
| Docker | Latest (optional) |

## Tech Stack

| Technology | Purpose |
|------------|---------|
| **Next.js 14.2** | React framework |
| **TypeScript** | Type safety |
| **tRPC** | API layer |
| **Prisma** | Database ORM |
| **PostgreSQL** | Database |
| **TailwindCSS** | Styling |

## Quick Start

### 1. Clone Repository

```bash
git clone https://github.com/your-org/tga.git
cd tga
```

### 2. Install Dependencies

```bash
pnpm install
```

### 3. Environment Setup

Copy the environment template:

```bash
cp .env.example .env.local
```

### 4. Database Setup

Start PostgreSQL (using Docker):

```bash
docker-compose up -d postgres
```

Run migrations:

```bash
pnpm prisma migrate dev
```

Seed database (optional):

```bash
pnpm prisma db seed
```

### 5. Start Development Server

```bash
pnpm dev
```

Visit `http://localhost:3000`

## Environment Variables

### Required Variables

```bash
# Database
DATABASE_URL=postgresql://user:password@localhost:5432/tga

# Authentication
NEXTAUTH_SECRET=your-secret-key
NEXTAUTH_URL=http://localhost:3000

# Privy (Auth)
NEXT_PUBLIC_PRIVY_APP_ID=your-privy-app-id
PRIVY_APP_SECRET=your-privy-secret
```

### Optional Integration Variables

```bash
# Fireblocks (Custody)
FIREBLOCKS_API_KEY=your-api-key
FIREBLOCKS_API_SECRET=your-api-secret
FIREBLOCKS_VAULT_ACCOUNT_ID=your-vault-id

# DocuSign (Documents)
DOCUSIGN_INTEGRATION_KEY=your-key
DOCUSIGN_SECRET_KEY=your-secret
DOCUSIGN_ACCOUNT_ID=your-account-id

# Persona (KYC)
PERSONA_API_KEY=your-api-key
PERSONA_TEMPLATE_ID=your-template-id

# S3 (Storage)
AWS_ACCESS_KEY_ID=your-key
AWS_SECRET_ACCESS_KEY=your-secret
AWS_BUCKET_NAME=your-bucket
```

## Project Structure

```
tga/
├── apps/
│   └── lilith/
│       └── apps/
│           └── nextjs/
│               ├── src/
│               │   ├── pages/           # Next.js pages
│               │   │   └── api/         # API routes
│               │   │       ├── trpc/    # tRPC handlers
│               │   │       ├── webhooks/# Webhook endpoints
│               │   │       └── cron/    # Cron jobs
│               │   ├── server/
│               │   │   ├── framework/   # Base operation classes
│               │   │   ├── operations/  # Business operations
│               │   │   └── services/    # Service layer
│               │   └── core-services/   # Shared utilities
│               └── prisma/
│                   └── schema.prisma    # Database schema
├── packages/                            # Shared packages
└── docs/                                # Documentation
```

## Development Commands

| Command | Description |
|---------|-------------|
| `pnpm dev` | Start development server |
| `pnpm build` | Build for production |
| `pnpm start` | Start production server |
| `pnpm lint` | Run ESLint |
| `pnpm test` | Run tests |
| `pnpm prisma studio` | Open Prisma Studio |
| `pnpm prisma migrate dev` | Run migrations |
| `pnpm prisma generate` | Generate Prisma client |

## Database Management

### Prisma Studio

Visual database browser:

```bash
pnpm prisma studio
```

Opens at `http://localhost:5555`

### Creating Migrations

After schema changes:

```bash
pnpm prisma migrate dev --name your_migration_name
```

### Reset Database

```bash
pnpm prisma migrate reset
```

## Testing

### Run Tests

```bash
pnpm test
```

### Run Specific Tests

```bash
pnpm test -- --grep "grant"
```

## Debugging

### VS Code Configuration

`.vscode/launch.json`:

```json
{
  "configurations": [
    {
      "name": "Next.js: debug server-side",
      "type": "node-terminal",
      "request": "launch",
      "command": "pnpm dev"
    }
  ]
}
```

### Logging

Use console logging for development:

```typescript
console.log('Debug:', { data });

// Or structured logging
import { logger } from 'core-services';
logger.info('Operation completed', { operationID, result });
```

## Common Issues

<AccordionGroup>
<Accordion title="Prisma client not found">
**Solution:** Regenerate Prisma client:
```bash
pnpm prisma generate
```
</Accordion>

<Accordion title="Database connection failed">
**Solution:** Check PostgreSQL is running and DATABASE_URL is correct:
```bash
docker-compose ps
```
</Accordion>

<Accordion title="Type errors after schema change">
**Solution:** Regenerate types:
```bash
pnpm prisma generate
pnpm build
```
</Accordion>

<Accordion title="Port already in use">
**Solution:** Kill process on port or use different port:
```bash
lsof -i :3000
kill -9 <PID>
```
</Accordion>
</AccordionGroup>

## Related Guides

- **[Operations](/developers/operations)** - Writing API operations
- **[Services](/developers/services)** - Service layer patterns
- **[Cron Jobs](/developers/cron-jobs)** - Scheduled tasks
