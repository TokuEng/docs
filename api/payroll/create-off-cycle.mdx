---
title: "Create Off-Cycle Payroll"
sidebarTitle: "Create Off-Cycle"
description: "Create a special or bonus payroll run outside the regular schedule"
---

## Overview

Creates an off-cycle payroll for bonus payments, corrections, or other payments outside the regular pay schedule. Off-cycle payrolls are typically used for:

- Bonus payments
- Commission payouts
- Retroactive adjustments
- Termination payments

## Endpoint

```
POST /api/payroll/createOffCyclePayroll
```

## Authentication

Requires `tokuOrgAdmin` role for the organization.

## Request

### Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `payDate` | date | Yes | The date employees will be paid |
| `employeePayrollInputs` | array | Yes | Array of employee payroll data |
| `payrollType` | string | No | Type of payroll (default: `TOKU_PAYROLL`) |
| `startDate` | date | No | Optional pay period start date |
| `endDate` | date | No | Optional pay period end date |
| `externalID` | string | No | Optional external reference ID |
| `runJobAsync` | boolean | No | Run processing asynchronously (default: false) |
| `fileIDs` | array | No | Optional array of associated file IDs |
| `usePreviousDayClosingRates` | boolean | No | Use previous day's closing exchange rates |
| `exchangeRateTimestamp` | date | No | Specific timestamp for exchange rates |

### Employee Payroll Input Object

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `employeeID` | number | Yes | Employee identifier |
| `bonuses` | array | No | Bonus payments |
| `vestings` | array | No | Token vesting payments |
| `deductions` | array | No | Deductions from pay |
| `payslipFileID` | number | No | Associated payslip file ID |

### Bonus Object

| Field | Type | Description |
|-------|------|-------------|
| `amount` | number | Bonus amount |
| `currencyID` | number | Currency identifier |
| `amountDefinedInCurrencyID` | number | Original currency if different |
| `exchangeRate` | number | Exchange rate if applicable |

### Example Request

```bash
curl -X POST "https://api.toku.com/api/payroll/createOffCyclePayroll" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "payDate": "2024-01-15T00:00:00.000Z",
    "employeePayrollInputs": [
      {
        "employeeID": 500,
        "bonuses": [
          {
            "amount": 5000,
            "currencyID": 1
          }
        ]
      },
      {
        "employeeID": 501,
        "bonuses": [
          {
            "amount": 3000,
            "currencyID": 1
          }
        ],
        "vestings": [
          {
            "amount": 1000,
            "currencyID": 10,
            "tokenTrancheID": 5
          }
        ]
      }
    ]
  }'
```

### JavaScript Example

```javascript
const response = await fetch('https://api.toku.com/api/payroll/createOffCyclePayroll', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${process.env.TOKU_API_KEY}`,
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    payDate: '2024-01-15T00:00:00.000Z',
    employeePayrollInputs: [
      {
        employeeID: 500,
        bonuses: [{ amount: 5000, currencyID: 1 }]
      }
    ],
    usePreviousDayClosingRates: true
  })
});

const payroll = await response.json();
```

## Response

### Success Response (200)

```json
{
  "result": {
    "data": {
      "payrollID": 12348,
      "orgID": 100,
      "payDate": "2024-01-15T00:00:00.000Z",
      "state": "DRAFT",
      "type": "TOKU_PAYROLL",
      "createdAt": "2024-01-10T11:00:00.000Z"
    }
  }
}
```

### Error Responses

| Status | Code | Description |
|--------|------|-------------|
| 400 | `INVALID_INPUT` | Invalid request parameters |
| 401 | `UNAUTHORIZED` | Invalid or missing API key |
| 403 | `FORBIDDEN` | User lacks permission |
| 422 | `EMPLOYEE_NOT_ELIGIBLE` | One or more employees cannot be paid |

## Use Cases

### Bonus Payment

```javascript
{
  payDate: '2024-12-20T00:00:00.000Z',
  employeePayrollInputs: [
    {
      employeeID: 500,
      bonuses: [
        { amount: 10000, currencyID: 1 }  // USD bonus
      ]
    }
  ]
}
```

### Token Vesting Distribution

```javascript
{
  payDate: '2024-01-15T00:00:00.000Z',
  employeePayrollInputs: [
    {
      employeeID: 500,
      vestings: [
        {
          amount: 5000,
          currencyID: 10,  // Token currency ID
          tokenTrancheID: 5
        }
      ]
    }
  ]
}
```

## Related Endpoints

<CardGroup cols={2}>
  <Card title="Create On-Cycle" icon="calendar" href="/api/payroll/create-on-cycle">
    Create a regular payroll
  </Card>
  <Card title="Update Exchange Rate" icon="arrows-rotate" href="/api/payroll/update-exchange-rate">
    Update exchange rates for payroll
  </Card>
</CardGroup>
